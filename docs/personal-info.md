# 外卖 app 端 —— 个人信息相关接口文档

## 个人信息管理

### 查看个人信息

**参数列表：**

| 参数名         | 含义           | 说明   |
| -------------- | -------------- | ------ |
| `accessToken`  | `jwt` 访问令牌 | 字符串 |
| `refreshToken` | `jwt` 刷新令牌 | 字符串 |
| `phone`        | 手机号         | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明                              |
| ----------- | ---------------------------- | --------------------------------- |
| `imageURL`  | 头像的网络 `URL` 位置        | 字符串（可选择存储在阿里云OSS上） |
| `id`        | 身份证号                     | 字符串（会在展示时隐藏部分）      |
| `isSuccess` | 是否成功查询                 | 布尔值                            |
| `msg`       | 错误提示信息（如果查询失败） | 字符串                            |

**举例：**

```json
{
    "image": "http://your-image-goes-here",
    "id": "372128200112211123",
    "isSuccess": true,
    "msg": "" // 查询成功不需要错误信息
}
```



### 修改个人信息

#### 上传头像

**参数列表：**

| 参数名         | 含义           | 说明            |
| -------------- | -------------- | --------------- |
| `accessToken`  | `jwt` 访问令牌 | 字符串          |
| `refreshToken` | `jwt` 刷新令牌 | 字符串          |
| `image`        | 头像数据       | `FormData` 格式 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "image": "data..."
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明                              |
| ----------- | ---------------------------- | --------------------------------- |
| `imageURL`  | 头像的网络 `URL` 位置        | 字符串（可选择存储在阿里云OSS上） |
| `isSuccess` | 是否成功上传                 | 布尔值                            |
| `msg`       | 错误提示信息（如果上传失败） | 字符串                            |

**举例：**

```json
{
    "image": "http://your-image-goes-here",
    "isSuccess": true,
    "msg": "" // 查询成功不需要错误信息
}
```



#### 修改

**参数列表：**

| 参数名         | 含义                  | 说明   |
| -------------- | --------------------- | ------ |
| `accessToken`  | `jwt` 访问令牌        | 字符串 |
| `refreshToken` | `jwt` 刷新令牌        | 字符串 |
| `imageURL`     | 头像的网络 `URL` 位置 | 字符串 |
| `id`           | 身份证号              | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "imageURL": "http://your-image-goes-here",
    "id": "232123200112092213"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明   |
| ----------- | ---------------------------- | ------ |
| `isSuccess` | 是否成功修改                 | 布尔值 |
| `msg`       | 错误提示信息（如果修改失败） | 字符串 |

**举例：**

```json
{
    "isSuccess": true,
    "msg": "" // 修改成功不需要错误信息
}
```



### 修改密码（通过旧密码）

**参数列表：**

| 参数名         | 含义           | 说明   |
| -------------- | -------------- | ------ |
| `accessToken`  | `jwt` 访问令牌 | 字符串 |
| `refreshToken` | `jwt` 刷新令牌 | 字符串 |
| `phone`        | 手机号         | 字符串 |
| `oldPassword`  | 旧密码         | 字符串 |
| `newPassword`  | 新密码         | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462",
    "oldPassword": "123456",
    "newPassword": "abcdef"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明   |
| ----------- | ---------------------------- | ------ |
| `isSuccess` | 是否成功修改                 | 布尔值 |
| `msg`       | 错误提示信息（如果修改失败） | 字符串 |

**举例：**

```json
{
    "isSuccess": true,
    "msg": "" // 修改成功不需要错误信息
}
```



### 修改密码（通过短信验证码）

**参数列表：**

| 参数名         | 含义           | 说明                                           |
| -------------- | -------------- | ---------------------------------------------- |
| `accessToken`  | `jwt` 访问令牌 | 字符串                                         |
| `refreshToken` | `jwt` 刷新令牌 | 字符串                                         |
| `phone`        | 手机号         | 字符串                                         |
| `code`         | 短信验证码     | 字符串（获取短信验证码接口同注册登录中的接口） |
| `newPassword`  | 新密码         | 字符串                                         |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462",
    "code": "271822",
    "newPassword": "abcdef"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明   |
| ----------- | ---------------------------- | ------ |
| `isSuccess` | 是否成功修改                 | 布尔值 |
| `msg`       | 错误提示信息（如果修改失败） | 字符串 |

**举例：**

```json
{
    "isSuccess": true,
    "msg": "" // 修改成功不需要错误信息
}
```



### 绑定手机号（微信登录后）

**参数列表：**

| 参数名         | 含义             | 说明   |
| -------------- | ---------------- | ------ |
| `accessToken`  | `jwt` 访问令牌   | 字符串 |
| `refreshToken` | `jwt` 刷新令牌   | 字符串 |
| `phone`        | 手机号           | 字符串 |
| `openID`       | 微信用户唯一标识 | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462",
    "openID": "OPENID"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明   |
| ----------- | ---------------------------- | ------ |
| `isSuccess` | 是否成功绑定                 | 布尔值 |
| `msg`       | 错误提示信息（如果绑定失败） | 字符串 |

**举例：**

```json
{
    "isSuccess": true,
    "msg": "" // 绑定成功不需要错误信息
}
```



## 查看收入记录

**参数列表：**

| 参数名         | 含义           | 说明   |
| -------------- | -------------- | ------ |
| `accessToken`  | `jwt` 访问令牌 | 字符串 |
| `refreshToken` | `jwt` 刷新令牌 | 字符串 |
| `phone`        | 手机号         | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明                                                         |
| ----------- | ---------------------------- | ------------------------------------------------------------ |
| `data`      | 返回的数据列表               | 类型为 `List`，每一条记录包括订单号、配送费、到帐方式等等字段（由后端数据库考虑并定义） |
| `isSuccess` | 是否成功查询                 | 布尔值                                                       |
| `msg`       | 错误提示信息（如果查询失败） | 字符串                                                       |

**举例：**

```json
{
    "data": [
        {
            "orderNumber": "272711221",
            "earning": 2.5,
            "payMethod": "微信到帐"
            ...
        },
        {
            ...
        }
    ],
    "isSuccess": true,
    "msg": "" // 查询成功不需要错误信息
}
```



## 管理工作区域

### 查看工作区域

**参数列表：**

| 参数名         | 含义           | 说明   |
| -------------- | -------------- | ------ |
| `accessToken`  | `jwt` 访问令牌 | 字符串 |
| `refreshToken` | `jwt` 刷新令牌 | 字符串 |
| `phone`        | 手机号         | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明                             |
| ----------- | ---------------------------- | -------------------------------- |
| `location`  | 工作区域                     | 字符串（可以自定义几块配送区域） |
| `isSuccess` | 是否成功查询                 | 布尔值                           |
| `msg`       | 错误提示信息（如果查询失败） | 字符串                           |

**举例：**

```json
{
    "location": "八公寓",
    "isSuccess": true,
    "msg": "" // 查询成功不需要错误信息
}
```



### 修改工作区域

**参数列表：**

| 参数名         | 含义           | 说明   |
| -------------- | -------------- | ------ |
| `accessToken`  | `jwt` 访问令牌 | 字符串 |
| `refreshToken` | `jwt` 刷新令牌 | 字符串 |
| `phone`        | 手机号         | 字符串 |
| `location`     | 工作区域       | 字符串 |

**举例：**

```json
{
    "accessToken": "略",
    "refreshToken": "略",
    "phone": "17282138462",
    "location": "七公寓"
}
```



**返回数据列表：**

| 参数名      | 含义                         | 说明   |
| ----------- | ---------------------------- | ------ |
| `isSuccess` | 是否成功修改                 | 布尔值 |
| `msg`       | 错误提示信息（如果修改失败） | 字符串 |

**举例：**

```json
{
    "isSuccess": true,
    "msg": "" // 修改成功不需要错误信息
}
```

